---
title: "JSON RPC Methods"
description: "Complete JSON RPC API reference for ZK Compression"
---

## Overview

The ZK Compression JSON RPC API provides direct access to compressed state data and operations. This API extends the standard Solana JSON RPC with compression-specific methods.

## Base URL

```
https://api.devnet.solana.com  # Devnet
https://api.mainnet-beta.solana.com  # Mainnet
```

## Authentication

Most methods require no authentication. Rate limits apply based on your RPC provider.

## Compressed Account Methods

### getCompressedAccount

Get details of a compressed account by its hash.

**Parameters:**

- `accountHash` (string): The hash of the compressed account
- `options` (object, optional):
  - `encoding` (string): Data encoding (base58, base64, jsonParsed)
  - `commitment` (string): Commitment level (finalized, confirmed, processed)

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getCompressedAccount",
  "params": [
    "5J8bKsjF7mVdVs8V8E3QqK7Jy4Wn2Xp9Qm1Zr3Yt8Kp4",
    {
      "encoding": "jsonParsed",
      "commitment": "confirmed"
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": {
    "account": {
      "data": {
        "parsed": {
          "info": {
            "mint": "So11111111111111111111111111111111111111112",
            "owner": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
            "amount": "1000000000"
          },
          "type": "account"
        },
        "program": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
        "space": 165
      },
      "executable": false,
      "lamports": 0,
      "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
      "rentEpoch": 361
    },
    "context": {
      "slot": 123456789
    }
  },
  "id": 1
}
```

### getCompressedAccountsByOwner

Get all compressed accounts owned by a specific address.

**Parameters:**

- `owner` (string): The owner's public key
- `filters` (object, optional):
  - `mint` (string): Filter by mint address
  - `programId` (string): Filter by program ID
- `options` (object, optional):
  - `encoding` (string): Data encoding
  - `commitment` (string): Commitment level
  - `limit` (number): Maximum number of results (default: 100)

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getCompressedAccountsByOwner",
  "params": [
    "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
    {
      "mint": "So11111111111111111111111111111111111111112"
    },
    {
      "encoding": "jsonParsed",
      "limit": 50
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": {
    "accounts": [
      {
        "accountHash": "5J8bKsjF7mVdVs8V8E3QqK7Jy4Wn2Xp9Qm1Zr3Yt8Kp4",
        "data": {
          "parsed": {
            "info": {
              "mint": "So11111111111111111111111111111111111111112",
              "owner": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
              "amount": "1000000000"
            },
            "type": "account"
          }
        }
      }
    ],
    "context": {
      "slot": 123456789
    }
  },
  "id": 1
}
```

## Compressed Token Methods

### getCompressedTokenBalance

Get the compressed token balance for a specific mint and owner.

**Parameters:**

- `mint` (string): The mint address
- `owner` (string): The owner's public key
- `options` (object, optional):
  - `commitment` (string): Commitment level

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getCompressedTokenBalance",
  "params": [
    "So11111111111111111111111111111111111111112",
    "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
    {
      "commitment": "confirmed"
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": {
    "value": {
      "amount": "1000000000",
      "decimals": 9,
      "uiAmount": 1.0,
      "uiAmountString": "1"
    },
    "context": {
      "slot": 123456789
    }
  },
  "id": 1
}
```

### getCompressedTokenAccountsByMint

Get all compressed token accounts for a specific mint.

**Parameters:**

- `mint` (string): The mint address
- `options` (object, optional):
  - `encoding` (string): Data encoding
  - `commitment` (string): Commitment level
  - `limit` (number): Maximum number of results

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getCompressedTokenAccountsByMint",
  "params": [
    "So11111111111111111111111111111111111111112",
    {
      "encoding": "jsonParsed",
      "limit": 100
    }
  ]
}
```

## Merkle Tree Methods

### getMerkleTreeInfo

Get information about a Merkle tree.

**Parameters:**

- `tree` (string): The Merkle tree address
- `options` (object, optional):
  - `commitment` (string): Commitment level

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getMerkleTreeInfo",
  "params": [
    "TreeAddress123456789",
    {
      "commitment": "confirmed"
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": {
    "tree": {
      "maxDepth": 30,
      "maxBufferSize": 64,
      "canopyDepth": 14,
      "accountCount": 1000,
      "maxAccounts": 1073741824,
      "root": "RootHash123456789",
      "authority": "AuthorityAddress123456789"
    },
    "context": {
      "slot": 123456789
    }
  },
  "id": 1
}
```

### getMerkleProof

Get a Merkle proof for a specific account.

**Parameters:**

- `tree` (string): The Merkle tree address
- `accountHash` (string): The account hash to prove
- `options` (object, optional):
  - `commitment` (string): Commitment level

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getMerkleProof",
  "params": [
    "TreeAddress123456789",
    "5J8bKsjF7mVdVs8V8E3QqK7Jy4Wn2Xp9Qm1Zr3Yt8Kp4",
    {
      "commitment": "confirmed"
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": {
    "proof": ["ProofNode1", "ProofNode2", "ProofNode3"],
    "root": "RootHash123456789",
    "leaf": "5J8bKsjF7mVdVs8V8E3QqK7Jy4Wn2Xp9Qm1Zr3Yt8Kp4",
    "leafIndex": 42,
    "context": {
      "slot": 123456789
    }
  },
  "id": 1
}
```

## Transaction Methods

### getCompressedTransaction

Get details of a compressed transaction.

**Parameters:**

- `signature` (string): The transaction signature
- `options` (object, optional):
  - `encoding` (string): Data encoding
  - `commitment` (string): Commitment level
  - `maxSupportedTransactionVersion` (number): Max transaction version

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "getCompressedTransaction",
  "params": [
    "TransactionSignature123456789",
    {
      "encoding": "jsonParsed",
      "maxSupportedTransactionVersion": 0
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": {
    "transaction": {
      "message": {
        "accountKeys": ["..."],
        "instructions": ["..."],
        "recentBlockhash": "BlockhashValue"
      },
      "signatures": ["TransactionSignature123456789"]
    },
    "meta": {
      "err": null,
      "fee": 5000,
      "preBalances": [1000000000],
      "postBalances": [999995000],
      "compressedStateChanges": [
        {
          "type": "create",
          "accountHash": "NewAccountHash",
          "data": "CompressedAccountData"
        }
      ]
    },
    "blockTime": 1640995200,
    "slot": 123456789
  },
  "id": 1
}
```

## Subscription Methods

### compressedAccountSubscribe

Subscribe to compressed account changes.

**Parameters:**

- `accountHash` (string): The account hash to monitor
- `options` (object, optional):
  - `encoding` (string): Data encoding
  - `commitment` (string): Commitment level

**Request:**

```json
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "compressedAccountSubscribe",
  "params": [
    "5J8bKsjF7mVdVs8V8E3QqK7Jy4Wn2Xp9Qm1Zr3Yt8Kp4",
    {
      "encoding": "jsonParsed",
      "commitment": "confirmed"
    }
  ]
}
```

**Response:**

```json
{
  "jsonrpc": "2.0",
  "result": 12345,
  "id": 1
}
```

**Notification:**

```json
{
  "jsonrpc": "2.0",
  "method": "compressedAccountNotification",
  "params": {
    "result": {
      "context": {
        "slot": 123456790
      },
      "value": {
        "accountHash": "5J8bKsjF7mVdVs8V8E3QqK7Jy4Wn2Xp9Qm1Zr3Yt8Kp4",
        "data": {
          "parsed": {
            "info": {
              "mint": "So11111111111111111111111111111111111111112",
              "owner": "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM",
              "amount": "2000000000"
            },
            "type": "account"
          }
        }
      }
    },
    "subscription": 12345
  }
}
```

## Error Codes

Common error codes returned by the API:

| Code   | Message                   | Description                                  |
| ------ | ------------------------- | -------------------------------------------- |
| -32600 | Invalid Request           | The JSON sent is not a valid Request object  |
| -32601 | Method not found          | The method does not exist / is not available |
| -32602 | Invalid params            | Invalid method parameter(s)                  |
| -32603 | Internal error            | Internal JSON-RPC error                      |
| -32000 | Account not found         | The compressed account was not found         |
| -32001 | Invalid account hash      | The provided account hash is invalid         |
| -32002 | Tree not found            | The Merkle tree was not found                |
| -32003 | Proof verification failed | The Merkle proof could not be verified       |

## Rate Limits

Rate limits vary by RPC provider:

- **Public endpoints**: 100 requests/second
- **Private endpoints**: 1000+ requests/second
- **WebSocket connections**: 100 concurrent connections

## Best Practices

1. **Use appropriate commitment levels**:

   - `processed`: Fastest, least reliable
   - `confirmed`: Balanced speed and reliability
   - `finalized`: Slowest, most reliable

2. **Implement retry logic** for transient errors

3. **Cache frequently accessed data** to reduce API calls

4. **Use batch requests** when possible to improve efficiency

5. **Monitor rate limits** and implement backoff strategies

## Next Steps

<CardGroup cols={2}>
  <Card title="SDK Methods" icon="code" href="/api-reference/sdk-methods">
    Explore the TypeScript SDK methods
  </Card>
  <Card title="FAQ" icon="circle-question" href="/help/faq">
    Find answers to common questions
  </Card>
</CardGroup>{" "}
